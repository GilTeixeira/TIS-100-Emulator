(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAQAAAADHm0dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFwmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOS0wNi0xNVQxNjo0ODoxMCswMTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wNi0xNVQxNjo0ODoxMCswMTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTktMDYtMTVUMTY6NDg6MTArMDE6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTZhYWVkMTQtMjBjMy1lODQzLTkzYzEtZDk4ZDM4ZDNkMmU4IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6M2VmMmViMWUtZmY5Ni05YzRlLWJhYTctZTJhMDE1ZmI2MWJmIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MDg5NjQ0YjEtNTUyOC1kNzRhLWJjNDMtZDg2YzIxZmY0NTg1IiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDg5NjQ0YjEtNTUyOC1kNzRhLWJjNDMtZDg2YzIxZmY0NTg1IiBzdEV2dDp3aGVuPSIyMDE5LTA2LTE1VDE2OjQ4OjEwKzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxNmFhZWQxNC0yMGMzLWU4NDMtOTNjMS1kOThkMzhkM2QyZTgiIHN0RXZ0OndoZW49IjIwMTktMDYtMTVUMTY6NDg6MTArMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Ti1syAAAAFtJREFUKJHFjzsKgEAMRN8OObS9jZU3drBQZNnGBJRNkyke82nH2gSAEJfi+eBbG6IFC5nbRaRAkLqwNzaNKu1JPr5SoOY6HfX3rp7d1b+glQKB2ejnjUONMIYTsmISRNFcO3IAAAAASUVORK5CYII="},39:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAXCAQAAABO1swWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFwmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOS0wNi0xNVQxNjo0ODo0NSswMTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wNi0xNVQxNjo0ODo0NSswMTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTktMDYtMTVUMTY6NDg6NDUrMDE6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTFhMzVlYjUtNWFmMS1mMDQyLWEyMDYtNGU0ZTIzN2YwMDE4IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZjA5Y2VhZDctMDkwNi00NjRhLWI5MWUtZTIxN2QyMmUyNmRmIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ODZjZTkzYTAtMTMzMC03YjRjLThjNDgtYmNmYjM0NzM1ODRhIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODZjZTkzYTAtMTMzMC03YjRjLThjNDgtYmNmYjM0NzM1ODRhIiBzdEV2dDp3aGVuPSIyMDE5LTA2LTE1VDE2OjQ4OjQ1KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MWEzNWViNS01YWYxLWYwNDItYTIwNi00ZTRlMjM3ZjAwMTgiIHN0RXZ0OndoZW49IjIwMTktMDYtMTVUMTY6NDg6NDUrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jRrCPAAAAONJREFUKJGN0sFKw0AQxvH/LJN3lEWsKOKhiPgkxZ4qtdU2pPiQw2wPS2zsbmK+S7KTH7M7YcW39sSsBNCdHubRwIOEptN2DoVbooSmm+6uIPktgpy0xW0xSgeJAqemTVWuRSWC/DRdsmseqnvdEEX1oLv/aT7MHUG3+tEXxL/kfkwngE8Mt+UcCrDB8XKs6+wxsCUonvo/W+aI4/acF6NdU2aPl4rilRMWrErTEcNrF1PxwaTfgA2ZvoO9gq6GXfdQ7fa7a6YbAvST1mGma4K9VFh5Vnub+O6XZ5iEfzJ+s4qcAVcCWgs47DExAAAAAElFTkSuQmCC"},40:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAQAAAADHm0dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFwmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOS0wNi0xNVQxNjo0OTozNyswMTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wNi0xNVQxNjo0OTozNyswMTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTktMDYtMTVUMTY6NDk6MzcrMDE6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzNlMjM3MWItOWZiYS0xZjQzLWFiYTYtM2VjOTkwZTQzZTNhIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YWM1YTcxNjItYjgxNy02YTRmLWJiZTctZGZiZWYxOWZmZTk5IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YzliZWJmY2QtZTExNi0xMTQzLWI4NmItMmIwMGM4Y2Q1NTgzIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YzliZWJmY2QtZTExNi0xMTQzLWI4NmItMmIwMGM4Y2Q1NTgzIiBzdEV2dDp3aGVuPSIyMDE5LTA2LTE1VDE2OjQ5OjM3KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozM2UyMzcxYi05ZmJhLTFmNDMtYWJhNi0zZWM5OTBlNDNlM2EiIHN0RXZ0OndoZW49IjIwMTktMDYtMTVUMTY6NDk6MzcrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+hyB2/gAAAMpJREFUKJGN0sFqwkAUheF/wuQVi7RUkCJdSF/HRdGi0dTiK3o5t4tkiiaZTs5uho/hzuEG7e2NWamo4jGeZtKwDLFu67ZEg7c8A3BF6Pby36spTyyo6rbODhP8wuLh5gemXx/TbhhDt9c5FODbhdlqDgW8QZitE00NTFGAHcJsU6A9hi1AzLM+XxjYpkD9jCF7707RFXJM6L6BiCZYg9Bw40bUGwylggbUCYAT0myZ/Y1YX8nBybM/yidA+mmeim3XWykR2UeZAfwCWvpi5dxS+tEAAAAASUVORK5CYII="},41:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAVCAQAAABvGD8YAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFwmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOS0wNi0xNVQxNjo1MDoyMiswMTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wNi0xNVQxNjo1MDoyMiswMTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTktMDYtMTVUMTY6NTA6MjIrMDE6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDVlNjI1N2YtNTZlYy1jZjQzLTk1MmYtZTk0NzZiZDQ3OWViIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZGMxOWYxNGMtZTk5Ni0wMzRiLWFjNDQtODVmNTI1MmM4ZmUwIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YTU2NzEwOWQtOWQxYS05YTQ3LWFhNDAtNWVkNzA1NTVkMDViIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTU2NzEwOWQtOWQxYS05YTQ3LWFhNDAtNWVkNzA1NTVkMDViIiBzdEV2dDp3aGVuPSIyMDE5LTA2LTE1VDE2OjUwOjIyKzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NWU2MjU3Zi01NmVjLWNmNDMtOTUyZi1lOTQ3NmJkNDc5ZWIiIHN0RXZ0OndoZW49IjIwMTktMDYtMTVUMTY6NTA6MjIrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+zWyx/gAAATtJREFUOI2tktlOwzAQRY8j+wcRFFSKCkI8VAjxMzyg0kW0jbqA+MBmNOYhm1OSLinXD5FPnJPJZNDxluqqIdNd0rSMToFI+hSxcwC5qxJDEpCmRMC9iVzs4hwZa3rGuqVbhwTr1m55SGd0bnoAbACSa3BfXALwDZBcgVvTyc4osq9K4+f0it1Pdr3YQ1aoV2lQVnXHZgVocluni+merIP0w/8obSsVQAfYuNhLOBVRa12q7IId248ctOtdEA8wQlEZhINynhCGKNq+d2EmKMgALHqeyc9QkKd0d151C6+oPJTAoh7zL6pMd7rJL6hRpTqgqG+V0Zvi/iZ7XUlqqyp1kgqZAUgf7Gf+IKAVkra9QVXqhkCU/x22wIgI5DEgE0CLM4065Y1IngMmvKdTtIc06+R1h4m8HCQN+QWTK6/45If8jAAAAABJRU5ErkJggg=="},42:function(t,e,n){t.exports=n(65)},48:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var i,a,r,s,c=n(0),u=n.n(c),o=n(37),l=n.n(o),h=(n(48),n(16)),p=n(2),d=n(3),b=n(4),v=n(1),O=n(5),f=(n(9),n(14)),m=n(8),A=function(){function t(){Object(p.a)(this,t),this.buffer=void 0,this.buffer=[]}return Object(d.a)(t,[{key:"popValue",value:function(){return 0===this.buffer.length?null:this.buffer.pop()}},{key:"setValue",value:function(t){if(this.buffer.length>0)throw Error("Can't write value!");this.buffer.push(t)}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"getValue",value:function(){return this.buffer[0]}},{key:"reset",value:function(){this.buffer=[]}}]),t}(),k=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"popValue",value:function(){return null}},{key:"setValue",value:function(t){}}]),e}(A);!function(t){t[t.UP=0]="UP",t[t.RIGHT=1]="RIGHT",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.ANY=4]="ANY",t[t.LAST=5]="LAST"}(i||(i={})),function(t){t[t.IDLE=0]="IDLE",t[t.RUNNING=1]="RUNNING"}(a||(a={})),function(t){t.IDLE="IDLE",t.RUN="RUN",t.READ="READ",t.WRTE="WRTE"}(r||(r={})),function(t){t.NOP="NOP",t.SWP="SWP",t.SAV="SAV",t.NEG="NEG",t.SUB="SUB",t.ADD="ADD",t.MOV="MOV",t.JMP="JMP",t.JEZ="JEZ",t.JNZ="JNZ",t.JGZ="JGZ",t.JLZ="JLZ",t.JRO="JRO"}(s||(s={}));var j=function(){function t(e,n,i){Object(p.a)(this,t),this.node=e,this.labels=n,this.line=i}return Object(d.a)(t,[{key:"executeRead",value:function(){}},{key:"executeWrite",value:function(){this.node.incIndex()}},{key:"execute",value:function(){this.executeRead(),this.executeWrite()}},{key:"getLabels",value:function(){return this.labels}},{key:"getLine",value:function(){return this.line}}]),t}(),N=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"executeRead",value:function(){Object(m.a)(Object(v.a)(e.prototype),"executeRead",this).call(this)}},{key:"executeWrite",value:function(){Object(m.a)(Object(v.a)(e.prototype),"executeWrite",this).call(this)}}]),e}(j),I=function(t){function e(t,n,i,a,r){var s;return Object(p.a)(this,e),(s=Object(b.a)(this,Object(v.a)(e).call(this,t,n,r))).src=i,s.dst=a,s.line=r,s.valRead=null,s}return Object(O.a)(e,t),Object(d.a)(e,[{key:"executeRead",value:function(){this.node.getState()!==r.WRTE&&(this.valRead=this.src.readValue(),null==this.valRead&&this.node.setState(r.READ),Object(m.a)(Object(v.a)(e.prototype),"executeRead",this).call(this))}},{key:"executeWrite",value:function(){null!=this.valRead&&(this.node.getState()!==r.WRTE&&this.dst.writeValue(this.valRead),this.dst.hasValue()?this.node.setState(r.WRTE):(this.node.setState(r.RUN),this.valRead=null,Object(m.a)(Object(v.a)(e.prototype),"executeWrite",this).call(this)))}}]),e}(j),y=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"executeRead",value:function(){this.node.setBAK(this.node.getBAK()+this.node.getACC()),this.node.setACC(this.node.getBAK()-this.node.getACC()),this.node.setBAK(this.node.getBAK()-this.node.getACC()),Object(m.a)(Object(v.a)(e.prototype),"executeRead",this).call(this)}},{key:"executeWrite",value:function(){Object(m.a)(Object(v.a)(e.prototype),"executeWrite",this).call(this)}}]),e}(j),R=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"executeRead",value:function(){this.node.setBAK(this.node.getACC()),Object(m.a)(Object(v.a)(e.prototype),"executeRead",this).call(this)}},{key:"executeWrite",value:function(){Object(m.a)(Object(v.a)(e.prototype),"executeWrite",this).call(this)}}]),e}(j),g=function(t){function e(t,n,i,a){var r;return Object(p.a)(this,e),(r=Object(b.a)(this,Object(v.a)(e).call(this,t,n,a))).src=i,r.line=a,r.valRead=null,r}return Object(O.a)(e,t),Object(d.a)(e,[{key:"executeRead",value:function(){this.valRead=this.src.readValue(),null!=this.valRead?(this.node.setACC(this.node.getACC()+this.valRead),Object(m.a)(Object(v.a)(e.prototype),"executeRead",this).call(this)):this.node.setState(r.READ)}},{key:"executeWrite",value:function(){null!==this.valRead&&Object(m.a)(Object(v.a)(e.prototype),"executeWrite",this).call(this)}}]),e}(j),E=function(t){function e(t,n,i,a){var r;return Object(p.a)(this,e),(r=Object(b.a)(this,Object(v.a)(e).call(this,t,n,a))).src=i,r.line=a,r.valRead=null,r}return Object(O.a)(e,t),Object(d.a)(e,[{key:"executeRead",value:function(){this.valRead=this.src.readValue(),null!=this.valRead?(this.node.setACC(this.node.getACC()-this.valRead),Object(m.a)(Object(v.a)(e.prototype),"executeRead",this).call(this)):this.node.setState(r.READ)}},{key:"executeWrite",value:function(){null!==this.valRead&&Object(m.a)(Object(v.a)(e.prototype),"executeWrite",this).call(this)}}]),e}(j),L=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"executeRead",value:function(){this.node.setACC(-1*this.node.getACC()),Object(m.a)(Object(v.a)(e.prototype),"executeRead",this).call(this)}},{key:"executeWrite",value:function(){Object(m.a)(Object(v.a)(e.prototype),"executeWrite",this).call(this)}}]),e}(j),S=function(t){function e(t,n,i,a){var r;return Object(p.a)(this,e),(r=Object(b.a)(this,Object(v.a)(e).call(this,t,n,a))).src=i,r.line=a,r}return Object(O.a)(e,t),Object(d.a)(e,[{key:"executeRead",value:function(){this.node.setIndex(this.node.findIndex(this.src)-1),Object(m.a)(Object(v.a)(e.prototype),"executeRead",this).call(this)}},{key:"executeWrite",value:function(){Object(m.a)(Object(v.a)(e.prototype),"executeWrite",this).call(this)}}]),e}(j),M=function(t){function e(t,n,i,a){var r;return Object(p.a)(this,e),(r=Object(b.a)(this,Object(v.a)(e).call(this,t,n,a))).src=i,r.line=a,r}return Object(O.a)(e,t),Object(d.a)(e,[{key:"executeRead",value:function(){0===this.node.getACC()&&this.node.setIndex(this.node.findIndex(this.src)-1),Object(m.a)(Object(v.a)(e.prototype),"executeRead",this).call(this)}},{key:"executeWrite",value:function(){Object(m.a)(Object(v.a)(e.prototype),"executeWrite",this).call(this)}}]),e}(j),T=function(t){function e(t,n,i,a){var r;return Object(p.a)(this,e),(r=Object(b.a)(this,Object(v.a)(e).call(this,t,n,a))).src=i,r.line=a,r}return Object(O.a)(e,t),Object(d.a)(e,[{key:"executeRead",value:function(){0!==this.node.getACC()&&this.node.setIndex(this.node.findIndex(this.src)-1),Object(m.a)(Object(v.a)(e.prototype),"executeRead",this).call(this)}},{key:"executeWrite",value:function(){Object(m.a)(Object(v.a)(e.prototype),"executeWrite",this).call(this)}}]),e}(j),Z=function(t){function e(t,n,i,a){var r;return Object(p.a)(this,e),(r=Object(b.a)(this,Object(v.a)(e).call(this,t,n,a))).src=i,r.line=a,r}return Object(O.a)(e,t),Object(d.a)(e,[{key:"executeRead",value:function(){this.node.getACC()>0&&this.node.setIndex(this.node.findIndex(this.src)-1),Object(m.a)(Object(v.a)(e.prototype),"executeRead",this).call(this)}},{key:"executeWrite",value:function(){Object(m.a)(Object(v.a)(e.prototype),"executeWrite",this).call(this)}}]),e}(j),w=function(t){function e(t,n,i,a){var r;return Object(p.a)(this,e),(r=Object(b.a)(this,Object(v.a)(e).call(this,t,n,a))).src=i,r.line=a,r}return Object(O.a)(e,t),Object(d.a)(e,[{key:"executeRead",value:function(){this.node.getACC()<0&&this.node.setIndex(this.node.findIndex(this.src)-1),Object(m.a)(Object(v.a)(e.prototype),"executeRead",this).call(this)}},{key:"executeWrite",value:function(){Object(m.a)(Object(v.a)(e.prototype),"executeWrite",this).call(this)}}]),e}(j),D=function(t){function e(t,n,i,a){var r;return Object(p.a)(this,e),(r=Object(b.a)(this,Object(v.a)(e).call(this,t,n,a))).src=i,r.line=a,r}return Object(O.a)(e,t),Object(d.a)(e,[{key:"executeRead",value:function(){this.node.getACC()<0&&this.node.setIndex(this.node.getIndex()+this.src-1),Object(m.a)(Object(v.a)(e.prototype),"executeRead",this).call(this)}},{key:"executeWrite",value:function(){Object(m.a)(Object(v.a)(e.prototype),"executeWrite",this).call(this)}}]),e}(j),W=n(6),C={},x=Object(W.createToken)({name:"Identifier",pattern:/[a-zA-Z]\w*/}),U=Object(W.createToken)({name:"Integer",pattern:/(0|-?([1-9][0-9][0-9]|[1-9][0-9]|[1-9]))/}),G=Object(W.createToken)({name:"Acc",pattern:/Acc/i,longer_alt:x}),z=Object(W.createToken)({name:"Nil",pattern:/Nil/i,longer_alt:x}),Y=Object(W.createToken)({name:"Left",pattern:/Left/i,longer_alt:x}),P=Object(W.createToken)({name:"Right",pattern:/Right/i,longer_alt:x}),B=Object(W.createToken)({name:"Up",pattern:/Up/i,longer_alt:x}),J=Object(W.createToken)({name:"Down",pattern:/Down/i,longer_alt:x}),V=Object(W.createToken)({name:"Any",pattern:/Any/i,longer_alt:x}),Q=Object(W.createToken)({name:"Last",pattern:/Last/i,longer_alt:x}),X=Object(W.createToken)({name:"Comment",pattern:/#.*/,group:W.Lexer.SKIPPED}),F=Object(W.createToken)({name:"Nop",pattern:/Nop/i,longer_alt:x}),H=Object(W.createToken)({name:"Mov",pattern:/Mov/i,longer_alt:x}),K=Object(W.createToken)({name:"Swp",pattern:/Swp/i,longer_alt:x}),_=Object(W.createToken)({name:"Sav",pattern:/Sav/i,longer_alt:x}),q=Object(W.createToken)({name:"Add",pattern:/Add/i,longer_alt:x}),$=Object(W.createToken)({name:"Sub",pattern:/Sub/i,longer_alt:x}),tt=Object(W.createToken)({name:"Neg",pattern:/Neg/i,longer_alt:x}),et=Object(W.createToken)({name:"Jmp",pattern:/Jmp/i,longer_alt:x}),nt=Object(W.createToken)({name:"Jez",pattern:/Jez/i,longer_alt:x}),it=Object(W.createToken)({name:"Jnz",pattern:/Jnz/i,longer_alt:x}),at=Object(W.createToken)({name:"Jgz",pattern:/Jgz/i,longer_alt:x}),rt=Object(W.createToken)({name:"Jlz",pattern:/Jlz/i,longer_alt:x}),st=Object(W.createToken)({name:"Jro",pattern:/Jro/i,longer_alt:x}),ct=Object(W.createToken)({name:"Comma",pattern:/,/,group:W.Lexer.SKIPPED}),ut=Object(W.createToken)({name:"Colon",pattern:/:/}),ot=Object(W.createToken)({name:"Newline",pattern:/(\r\n|\r|\n)/}),lt=[Object(W.createToken)({name:"WhiteSpace",pattern:/[ \t]/,group:W.Lexer.SKIPPED}),G,z,Y,P,B,J,V,Q,F,H,K,_,q,$,tt,et,nt,it,at,rt,st,X,ct,ot,ut,U,x],ht=new W.Lexer(lt);function pt(t){var e=ht.tokenize(t);if(e.errors.length>0)throw Error("Lexing errors detected");return e}lt.forEach(function(t){C[t.name]=t});var dt=C.Nop,bt=C.Swp,vt=C.Sav,Ot=C.Neg,ft=C.Sub,mt=C.Add,At=C.Mov,kt=C.Jmp,jt=C.Jez,Nt=C.Jnz,It=C.Jgz,yt=C.Jlz,Rt=C.Jro,gt=C.Left,Et=C.Right,Lt=C.Up,St=C.Down,Mt=C.Any,Tt=C.Last,Zt=C.Nil,wt=C.Acc,Dt=C.Integer,Wt=C.Identifier,Ct=C.Colon,xt=C.Newline,Ut=new(function(t){function e(t,n){var i;return Object(p.a)(this,e),(i=Object(b.a)(this,Object(v.a)(e).call(this,t,n))).program=i.RULE("program",function(){i.AT_LEAST_ONE_SEP({SEP:xt,DEF:function(){i.OPTION(function(){this.SUBRULE(this.line)})}})}),i.line=i.RULE("line",function(){i.OR([{ALT:function(){i.SUBRULE(i.label),i.SUBRULE(i.instruction)}},{ALT:function(){return i.SUBRULE2(i.instruction)}},{ALT:function(){return i.SUBRULE2(i.label)}}])}),i.label=i.RULE("label",function(){i.CONSUME(Wt),i.CONSUME(Ct)}),i.instruction=i.RULE("instruction",function(){i.OR([{ALT:function(){return i.SUBRULE(i.nullOp)}},{ALT:function(){return i.SUBRULE(i.unaryOp)}},{ALT:function(){return i.SUBRULE(i.binaryOp)}},{ALT:function(){return i.SUBRULE(i.jumpOp)}}])}),i.nullOp=i.RULE("nullOp",function(){i.OR([{ALT:function(){return i.CONSUME(dt)}},{ALT:function(){return i.CONSUME(bt)}},{ALT:function(){return i.CONSUME(vt)}},{ALT:function(){return i.CONSUME(Ot)}}])}),i.unaryOp=i.RULE("unaryOp",function(){i.OR([{ALT:function(){return i.CONSUME(ft)}},{ALT:function(){return i.CONSUME(mt)}}]),i.SUBRULE(i.operand)}),i.binaryOp=i.RULE("binaryOp",function(){i.CONSUME(At),i.SUBRULE(i.operand,{LABEL:"lhs"}),i.SUBRULE2(i.operand,{LABEL:"rhs"})}),i.jumpOp=i.RULE("jumpOp",function(){i.SUBRULE(i.jumpOps),i.CONSUME(Wt)}),i.jumpOps=i.RULE("jumpOps",function(){i.OR([{ALT:function(){return i.CONSUME(kt)}},{ALT:function(){return i.CONSUME(jt)}},{ALT:function(){return i.CONSUME(Nt)}},{ALT:function(){return i.CONSUME(It)}},{ALT:function(){return i.CONSUME(yt)}},{ALT:function(){return i.CONSUME(Rt)}}])}),i.operand=i.RULE("operand",function(){i.OR([{ALT:function(){return i.SUBRULE(i.port)}},{ALT:function(){return i.SUBRULE(i.register)}},{ALT:function(){return i.CONSUME(Dt)}}])}),i.port=i.RULE("port",function(){i.OR([{ALT:function(){return i.CONSUME(gt)}},{ALT:function(){return i.CONSUME(Et)}},{ALT:function(){return i.CONSUME(Lt)}},{ALT:function(){return i.CONSUME(St)}},{ALT:function(){return i.CONSUME(Mt)}},{ALT:function(){return i.CONSUME(Tt)}}])}),i.register=i.RULE("register",function(){i.OR([{ALT:function(){return i.CONSUME(Zt)}},{ALT:function(){return i.CONSUME(wt)}}])}),i.performSelfAnalysis(),i}return Object(O.a)(e,t),e}(W.CstParser))(C,{outputCst:!0});var Gt=new(function(t){function e(){var t;return Object(p.a)(this,e),(t=Object(b.a)(this,Object(v.a)(e).call(this))).validateVisitor(),t}return Object(O.a)(e,t),Object(d.a)(e,[{key:"program",value:function(t){var e=this;return t.line?t.line.map(function(t){return e.visit(t)}):[]}},{key:"line",value:function(t){var e=this.visit(t.label)||{},n=this.visit(t.instruction)||{},i=(e.line||n.line)-1;return delete n.line,{type:"LINE",label:e.name,instruction:n,line:i}}},{key:"label",value:function(t){return{name:t.Identifier[0].image.toUpperCase(),line:t.Identifier[0].startLine}}},{key:"instruction",value:function(t){return t.nullOp?this.visit(t.nullOp):t.unaryOp?this.visit(t.unaryOp):t.binaryOp?this.visit(t.binaryOp):t.jumpOp?this.visit(t.jumpOp):void 0}},{key:"nullOp",value:function(t){var e=t.Nop||t.Swp||t.Sav||t.Neg;return{operator:e[0].image.toUpperCase(),line:e[0].startLine}}},{key:"unaryOp",value:function(t){var e=t.Sub||t.Add,n=this.visit(t.operand);return{operator:e[0].image.toUpperCase(),lhs:n,line:e[0].startLine}}},{key:"binaryOp",value:function(t){var e=t.Mov,n=this.visit(t.lhs),i=this.visit(t.rhs);return{operator:e[0].image.toUpperCase(),lhs:n,rhs:i,line:e[0].startLine}}},{key:"jumpOp",value:function(t){return{operator:this.visit(t.jumpOps),lhs:t.Identifier[0].image.toUpperCase(),line:t.Identifier[0].startLine}}},{key:"operand",value:function(t){return t.Integer?{type:"Integer",value:parseInt(t.Integer[0].image)}:t.register?this.visit(t.register):t.port?this.visit(t.port):void 0}},{key:"port",value:function(t){var e=t.Left||t.Right||t.Up||t.Down||t.Any||t.Last;return{type:"Port",value:e[0].image.toUpperCase()}}},{key:"register",value:function(t){return{type:"Register",value:(t.Nil||t.Acc)[0].image.toUpperCase()}}},{key:"jumpOps",value:function(t){return(t.Jmp||t.Jez||t.Jnz||t.Jgz||t.Jlz||t.Jro)[0].image.toUpperCase()}}]),e}(Ut.getBaseCstVisitorConstructor()));var zt=function(){function t(){Object(p.a)(this,t),this.isNumber=!1,this.isDirection=!1,this.isACC=!1}return Object(d.a)(t,[{key:"readValue",value:function(){throw Error("Can't read value!")}},{key:"writeValue",value:function(t){throw Error("Can't write value!")}},{key:"hasValue",value:function(){throw Error("Can' check buffer!")}}]),t}(),Yt=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(b.a)(this,Object(v.a)(e).call(this))).value=t,n.isNumber=!0,n}return Object(O.a)(e,t),Object(d.a)(e,[{key:"readValue",value:function(){return this.value}}]),e}(zt),Pt=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(b.a)(this,Object(v.a)(e).call(this))).node=t,n.isACC=!0,n}return Object(O.a)(e,t),Object(d.a)(e,[{key:"readValue",value:function(){return this.node.getACC()}},{key:"writeValue",value:function(t){this.node.setACC(t)}},{key:"hasValue",value:function(){return!1}}]),e}(zt),Bt=function(t){function e(t,n){var i;return Object(p.a)(this,e),(i=Object(b.a)(this,Object(v.a)(e).call(this))).node=t,i.direction=n,i.isDirection=!0,i}return Object(O.a)(e,t),Object(d.a)(e,[{key:"readValue",value:function(){return this.node.readNumber(this.direction)}},{key:"writeValue",value:function(t){this.node.pushNumber(this.direction,t)}},{key:"hasValue",value:function(){return this.node.hasValue(this.direction)}}]),e}(zt),Jt=function(){function t(e,n){Object(p.a)(this,t),this.program=e,this.node=n,this.nextInstructionLabels=[]}return Object(d.a)(t,[{key:"parseProgram",value:function(){var t=this,e=[];return function(t){var e=pt(t);Ut.input=e.tokens;var n=Ut.program();if(Ut.errors.length>0)throw Ut.errors[0];return Gt.visit(n)}(this.program).forEach(function(n){var i=t.parseLine(n);i&&e.push(i)}),e}},{key:"parseLine",value:function(t){var e,n,i;if(t.label&&this.nextInstructionLabels.push(t.label),t.instruction.operator){switch(t.instruction.lhs&&(e=this.parseArg(t.instruction.lhs)),t.instruction.rhs&&(n=this.parseArg(t.instruction.rhs)),i=Object(f.a)(this.nextInstructionLabels),this.nextInstructionLabels=[],t.instruction.operator){case s.NOP:return new N(this.node,i,t.line);case s.SWP:return new y(this.node,i,t.line);case s.SAV:return new R(this.node,i,t.line);case s.NEG:return new L(this.node,i,t.line);case s.SUB:return new E(this.node,i,e,t.line);case s.ADD:return new g(this.node,i,e,t.line);case s.MOV:return new I(this.node,i,e,n,t.line);case s.JMP:return new S(this.node,i,e,t.line);case s.JEZ:return new M(this.node,i,e,t.line);case s.JNZ:return new T(this.node,i,e,t.line);case s.JGZ:return new Z(this.node,i,e,t.line);case s.JLZ:return new w(this.node,i,e,t.line);case s.JRO:return new D(this.node,i,e,t.line)}return null}}},{key:"parseArg",value:function(t){switch(t.type){case"Port":var e=i[t.value];return new Bt(this.node,e);case"Register":return new Pt(this.node);case"Integer":return new Yt(t.value);default:return t}}}]),t}(),Vt=function(){function t(){Object(p.a)(this,t),this.id=void 0,this.totalCycles=0,this.idleCycles=0,this.state=r.IDLE,this.id=t._id++}return Object(d.a)(t,[{key:"setState",value:function(t){this.state=t}},{key:"getState",value:function(){return this.state}},{key:"getID",value:function(){return this.id}},{key:"execute",value:function(){}},{key:"getIdleness",value:function(){return 0===this.totalCycles?this.totalCycles:this.idleCycles/this.totalCycles}},{key:"reset",value:function(){this.totalCycles=0,this.idleCycles=0}}]),t}();Vt._id=0;var Qt=function(t){function e(){var t;return Object(p.a)(this,e),(t=Object(b.a)(this,Object(v.a)(e).call(this))).ACC=0,t.BAK=0,t.dstPorts=void 0,t.srcPorts=void 0,t.commands=[],t.instructions=void 0,t.index=-1,t.dstPorts=[new k,new k,new k,new k],t.srcPorts=[new k,new k,new k,new k],t}return Object(O.a)(e,t),Object(d.a)(e,[{key:"getNumberLines",value:function(){return this.commands.length}},{key:"getACC",value:function(){return this.ACC}},{key:"setACC",value:function(t){this.ACC=t}},{key:"getBAK",value:function(){return this.BAK}},{key:"setBAK",value:function(t){this.BAK=t}},{key:"getCommands",value:function(){return this.commands}},{key:"getSrcPorts",value:function(){return this.srcPorts}},{key:"findIndex",value:function(t){for(var e=0;e<this.commands.length;e++)if(this.commands[e].getLabels().includes(t))return e;throw new Error("Label not found.")}},{key:"setIndex",value:function(t){this.index=t}},{key:"getIndex",value:function(){return this.index}},{key:"getInstructionIndex",value:function(){return 0===this.commands.length||-1===this.index?null:this.commands[this.index].getLine()}},{key:"incIndex",value:function(){++this.index>=this.commands.length&&(this.index=0)}},{key:"setDstPort",value:function(t,e){this.dstPorts[t]=e}},{key:"setSrcPort",value:function(t,e){this.srcPorts[t]=e}},{key:"setInstructions",value:function(t){this.instructions=t,this.parseInstructions()}},{key:"getInstructions",value:function(){return this.instructions}},{key:"pushNumber",value:function(t,e){this.dstPorts[t].setValue(e)}},{key:"readNumber",value:function(t){return this.srcPorts[t].popValue()}},{key:"hasValue",value:function(t){return this.dstPorts[t].hasValue()}},{key:"executeRead",value:function(){0!==this.commands.length&&-1!==this.index&&this.commands[this.index].executeRead()}},{key:"executeWrite",value:function(){0!==this.commands.length&&(-1===this.index?this.index++:this.commands[this.index].executeWrite())}},{key:"execute",value:function(){this.executeRead(),this.executeWrite()}},{key:"parseInstructions",value:function(){this.commands=new Jt(this.instructions,this).parseProgram()}},{key:"reset",value:function(){Object(m.a)(Object(v.a)(e.prototype),"reset",this).call(this),this.index=-1,this.state=r.IDLE,this.ACC=0,this.BAK=0,this.dstPorts.forEach(function(t){return t.reset()})}}]),e}(Vt),Xt=function(t){function e(){var t;return Object(p.a)(this,e),(t=Object(b.a)(this,Object(v.a)(e).call(this))).srcPort=void 0,t.outputs=[],t.id=e._id++,t}return Object(O.a)(e,t),Object(d.a)(e,[{key:"getOutputs",value:function(){return this.outputs}},{key:"setSrcPort",value:function(t){this.srcPort=t}},{key:"getSrcPort",value:function(){return this.srcPort}},{key:"execute",value:function(){this.totalCycles++,this.srcPort.hasValue()?this.outputs.push(this.srcPort.popValue()):this.idleCycles++}},{key:"reset",value:function(){Object(m.a)(Object(v.a)(e.prototype),"reset",this).call(this),this.outputs=[],this.srcPort&&this.srcPort.reset()}}]),e}(Vt);Xt._id=0;var Ft=function(t){function e(){var t;return Object(p.a)(this,e),t=Object(b.a)(this,Object(v.a)(e).call(this)),Xt._id--,t.id=null,t}return Object(O.a)(e,t),Object(d.a)(e,[{key:"getOutputs",value:function(){return null}},{key:"execute",value:function(){}}]),e}(Xt),Ht=function(t){function e(){var t;return Object(p.a)(this,e),(t=Object(b.a)(this,Object(v.a)(e).call(this))).dstPort=void 0,t.inputs=[],t.originalInputs=[],t.id=e._id++,t.initInputs(),t}return Object(O.a)(e,t),Object(d.a)(e,[{key:"setDstPort",value:function(t){this.dstPort=t}},{key:"getDstPort",value:function(){return this.dstPort}},{key:"setInputs",value:function(t){this.inputs=t}},{key:"getInputs",value:function(){return this.inputs}},{key:"getOriginalInputs",value:function(){return this.originalInputs}},{key:"execute",value:function(){this.totalCycles++,this.dstPort.hasValue()?this.idleCycles++:this.dstPort.setValue(this.inputs.shift())}},{key:"initInputs",value:function(){for(var t=0,e=0;e<50;e++)t=Math.floor(100*Math.random()),this.inputs.push(t),this.originalInputs.push(t)}},{key:"reset",value:function(){Object(m.a)(Object(v.a)(e.prototype),"reset",this).call(this),this.inputs=Object(f.a)(this.originalInputs),this.dstPort&&this.dstPort.reset()}}]),e}(Vt);Ht._id=0;var Kt,_t=function(t){function e(){var t;return Object(p.a)(this,e),t=Object(b.a)(this,Object(v.a)(e).call(this)),Ht._id--,t.id=null,t}return Object(O.a)(e,t),Object(d.a)(e,[{key:"getInputs",value:function(){return null}},{key:"getOriginalInputs",value:function(){return null}},{key:"execute",value:function(){}}]),e}(Ht),qt=function(){function t(e,n,i,a){Object(p.a)(this,t),this.sizeX=e,this.sizeY=n,this.sourcesPos=i,this.sinksPos=a,this.nodeGrid=void 0,this.sources=void 0,this.sinks=void 0,this.buildNodeGrid(),this.buildSources(),this.buildSinks(),this.initPorts()}return Object(d.a)(t,[{key:"buildNodeGrid",value:function(){this.nodeGrid=[];for(var t=0;t<this.sizeY;t++){this.nodeGrid[t]=[];for(var e=0;e<this.sizeX;e++)this.nodeGrid[t][e]=new Qt}}},{key:"initPorts",value:function(){for(var t=0;t<this.sizeY;t++)for(var e=0;e<this.sizeX;e++)this.initNodePorts(e,t)}},{key:"initNodePorts",value:function(t,e){this.initUpNodePorts(t,e),this.initRightNodePorts(t,e),this.initDownNodePorts(t,e),this.initLeftNodePorts(t,e)}},{key:"initUpNodePorts",value:function(t,e){if(e-1>=0){var n=new A;this.nodeGrid[e][t].setDstPort(i.UP,n),this.nodeGrid[e-1][t].setSrcPort(i.DOWN,n)}if(0===e&&this.sourcesPos.includes(t)){var a=new A;this.nodeGrid[e][t].setSrcPort(i.UP,a),this.sources[t].setDstPort(a)}}},{key:"initDownNodePorts",value:function(t,e){var n=this.nodeGrid.length;if(e+1<n){var a=new A;this.nodeGrid[e][t].setDstPort(i.DOWN,a),this.nodeGrid[e+1][t].setSrcPort(i.UP,a)}if(e+1===n&&this.sinksPos.includes(t)){var r=new A;this.nodeGrid[e][t].setDstPort(i.DOWN,r),this.sinks[t].setSrcPort(r)}}},{key:"initLeftNodePorts",value:function(t,e){if(t-1>=0){var n=new A;this.nodeGrid[e][t].setDstPort(i.LEFT,n),this.nodeGrid[e][t-1].setSrcPort(i.RIGHT,n)}}},{key:"initRightNodePorts",value:function(t,e){if(t+1<this.nodeGrid[0].length){var n=new A;this.nodeGrid[e][t].setDstPort(i.RIGHT,n),this.nodeGrid[e][t+1].setSrcPort(i.LEFT,n)}}},{key:"buildSources",value:function(){this.sources=[];for(var t=0;t<this.sizeX;t++)this.sourcesPos.includes(t)?this.sources.push(new Ht):this.sources.push(new _t)}},{key:"buildSinks",value:function(){this.sinks=[];for(var t=0;t<this.sizeX;t++)this.sinksPos.includes(t)?this.sinks.push(new Xt):this.sinks.push(new Ft)}},{key:"getNodeGrid",value:function(){return this.nodeGrid}},{key:"getSources",value:function(){return this.sources}},{key:"getSinks",value:function(){return this.sinks}}]),t}(),$t=function(){function t(e){Object(p.a)(this,t),this.level=void 0,this.nodeGrid=void 0,this.sources=void 0,this.sinks=void 0,this.state=a.IDLE,this.level=e;var n=new qt(e.x,e.y,e.sources,e.sinks);Vt._id=0,Xt._id=0,Ht._id=0,this.nodeGrid=n.getNodeGrid(),this.sinks=n.getSinks(),this.sources=n.getSources()}return Object(d.a)(t,[{key:"stop",value:function(){this.state===a.RUNNING&&(this.state=a.IDLE,this.sources.forEach(function(t){return t.reset()}),this.nodeGrid.forEach(function(t){t.forEach(function(t){t.reset()})}),this.sinks.forEach(function(t){return t.reset()}))}},{key:"step",value:function(){this.sources.forEach(function(t){t.execute()}),this.sinks.forEach(function(t){t.execute()}),this.nodeGrid.forEach(function(t){t.forEach(function(t){t.executeRead()})}),this.nodeGrid.forEach(function(t){t.forEach(function(t){t.executeWrite()})}),this.state===a.IDLE&&(this.state=a.RUNNING)}},{key:"getGrid",value:function(){return this.nodeGrid}},{key:"getSources",value:function(){return this.sources}},{key:"getSinks",value:function(){return this.sinks}},{key:"getLevel",value:function(){return this.level}},{key:"getState",value:function(){return this.state}}]),t}(),te=[{title:"Level 1",description:"Read a value from in.0 and write it to out.0\nRead a value from in.1 and write it to out.1",x:3,y:3,sources:[0,2],sinks:[0,2],transform:function(t){return t}},{title:"Level 2",description:"Read a value from in.0\nDouble the value\nWrite the value to out.1",x:2,y:2,sources:[1],sinks:[0],transform:function(t){return t.map(function(t){return t.map(function(t){return 2*t})})}},{title:"Level 3",description:"Read values from in.0 and in.1\nwrite in.0 - in.1 to out.0\nwrite in.1 - in.0 to out.1",x:4,y:3,sources:[1,2],sinks:[1,2],transform:function(t){var e=[];return e.push(t[0].map(function(e,n){return e-t[1][n]})),e.push(t[1].map(function(e,n){return e-t[0][n]})),e}},{title:"Level 4",description:"Read a value from in.0\nwrite 1 to out.0 if in.0 > 50\nwrite 1 to out.1 if in.0 <= 50\nwhen a 1 is not written to an output, write 0 a instead",x:3,y:2,sources:[1],sinks:[0,2],transform:function(t){var e=[],n=[];return t[0].forEach(function(t){e.push(t>50?1:0),n.push(t>50?0:1)}),[e,n]}}],ee=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return u.a.createElement("div",{className:"display"},u.a.createElement("p",{className:"tooltip"},this.props.tooltip),u.a.createElement("p",{className:"value"},this.props.value))}}]),e}(u.a.Component),ne=function(t){function e(){var t,n;Object(p.a)(this,e);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(b.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(a)))).inputs=[],n}return Object(O.a)(e,t),Object(d.a)(e,[{key:"parseInstructions",value:function(){return null==this.props.instructions?[]:this.props.instructions.split("\n")}},{key:"componentDidMount",value:function(){var t=this;this.inputs.forEach(function(e,n){e.addEventListener("keydown",function(i){var a=e.selectionStart;if("ArrowUp"===i.key&&(t.inputs[n-1>=0?n-1:t.inputs.length-1].setSelectionRange(a,a),t.inputs[n-1>=0?n-1:t.inputs.length-1].focus()),"ArrowDown"===i.key&&(t.inputs[n+1<t.inputs.length?n+1:0].setSelectionRange(a,a),t.inputs[n+1<t.inputs.length?n+1:0].focus()),"Enter"===i.key&&n<t.inputs.length-1){for(var r=t.inputs.length-1;r>n+1;r--)t.inputs[r].value=t.inputs[r-1].value;t.inputs[n+1].value=e.value.slice(a),e.value=e.value.slice(0,a),t.inputs[n+1].focus(),t.inputs[n+1].setSelectionRange(a,a)}"Backspace"===i.key&&0===a&&t.inputs[n-1>=0?n-1:n].focus()}),e.addEventListener("focusout",function(e){t.props.updateInstructions()})})}},{key:"componentDidUpdate",value:function(){var t=this,e=this.parseInstructions();this.inputs.forEach(function(n,i){n.value=null==t.props.instructions?"":e[i],n.disabled=t.props.locked})}},{key:"getValue",value:function(){return this.inputs.reduce(function(t,e){return t+(e.value.toUpperCase()+"\n")},"")}},{key:"getValueIndex",value:function(t){return this.inputs[t].value.toUpperCase()}},{key:"render",value:function(){for(var t=this,e=[],n=function(n){e.push(u.a.createElement("input",{className:null===t.props.node.getInstructionIndex()||t.props.node.getInstructionIndex()!==n?"":t.props.node.getState()===r.WRTE||t.props.node.getState()===r.READ?"blocked":"selected",key:n,maxLength:16,type:"text",ref:function(e){return t.inputs[n]=e}}))},i=0;i<13;i++)n(i);return u.a.createElement("div",{className:"editor"},e)}}]),e}(u.a.Component),ie=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return u.a.createElement("div",{className:"port "+this.props.direction},u.a.createElement("p",{className:"arrow"},"=>"),u.a.createElement("p",{className:"value"},void 0===this.props.value?"?":this.props.value))}}]),e}(u.a.Component),ae=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(b.a)(this,Object(v.a)(e).call(this,t))).nodeInputs=void 0,n.state={error:null},n}return Object(O.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this,e=this.props.node.getSrcPorts().reduce(function(t,e,n){return e instanceof k||t.push(u.a.createElement(ie,{key:"port".concat(n),direction:i[n],value:e.getValue()})),t},[]);return u.a.createElement("div",{className:"node",key:this.props.node.getID()},this.state.error&&u.a.createElement("div",{className:"errorMessage"},u.a.createElement("p",null,'INVALID TOKEN "'.concat(this.state.error.token.toUpperCase(),'"'))),u.a.createElement(ne,{node:this.props.node,instructions:this.props.node.getInstructions(),locked:this.props.locked,updateInstructions:this.updateInstructions.bind(this),ref:function(e){return t.nodeInputs=e}}),u.a.createElement("div",{className:"info"},u.a.createElement(ee,{tooltip:"ACC",value:this.props.node.getACC()}),u.a.createElement(ee,{tooltip:"BAK",value:"<".concat(this.props.node.getBAK(),">")}),u.a.createElement(ee,{tooltip:"LAST",value:"N/A"}),u.a.createElement(ee,{tooltip:"MODE",value:this.props.node.getState()})),e)}},{key:"updateInstructions",value:function(){try{this.props.node.setInstructions(this.nodeInputs.getValue()),this.setState(function(t){return{error:null}}),this.props.setErrorState(!1)}catch(e){var t={line:e.token.startLine-1,startColumn:e.token.startColumn-1,endColumn:e.token.endColumn,token:this.nodeInputs.getValueIndex(e.token.startLine-1).substring(e.token.startColumn-1,e.token.endColumn)};this.setState(function(e){return{error:t}}),this.props.setErrorState(!0)}}}]),e}(u.a.Component),re=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return u.a.createElement("div",{className:"sink"},u.a.createElement("p",{className:"arrow"},"=>"),u.a.createElement("p",{className:"value"},void 0===this.props.sink.getSrcPort().getValue()?"?":this.props.sink.getSrcPort().getValue()),u.a.createElement("div",{className:"info"},u.a.createElement("p",null,"OUT.".concat(this.props.sink.getID()))))}}]),e}(u.a.Component),se=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return u.a.createElement("div",{className:"source"},u.a.createElement("p",{className:"arrow"},"=>"),u.a.createElement("p",{className:"value"},void 0===this.props.source.getDstPort().getValue()?"?":this.props.source.getDstPort().getValue()),u.a.createElement("div",{className:"info"},u.a.createElement("p",null,"IN.".concat(this.props.source.getID())),u.a.createElement("p",null,"(IDLE ".concat(Math.round(100*this.props.source.getIdleness()),"%)"))))}}]),e}(u.a.Component),ce=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this,e=this.props.grid.map(function(e,n){var i=e.map(function(e,n){return u.a.createElement(ae,{key:"node".concat(n),node:e,locked:t.props.state===a.RUNNING,setErrorState:t.props.setErrorState})});return u.a.createElement("div",{key:"nodeGrid".concat(n),className:"gridRow"},i)}),n=this.props.sinks.map(function(t,e){return t instanceof Ft?u.a.createElement("div",{key:"sink".concat(e),className:"nullSink"}):u.a.createElement(re,{key:"sink".concat(e),sink:t})}),i=this.props.sources.map(function(t,e){return t instanceof _t?u.a.createElement("div",{key:"source".concat(e),className:"nullSource"}):u.a.createElement(se,{key:"source".concat(e),source:t})});return u.a.createElement("div",{className:"grid"},u.a.createElement("div",{className:"sources"},i),e,u.a.createElement("div",{className:"sinks"},n))}}]),e}(u.a.Component),ue=n(38),oe=n.n(ue),le=n(39),he=n.n(le),pe=n(40),de=n.n(pe),be=n(41),ve=n.n(be),Oe=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return u.a.createElement("button",{onClick:this.props.onClick},u.a.createElement("img",{src:this.props.image,alt:"Button"}),this.props.name)}}]),e}(u.a.Component),fe=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this.props.description.split("\n").map(function(t,e){return u.a.createElement("p",{key:e},"> ".concat(t," "))});return u.a.createElement("div",{className:"levelInfo"},u.a.createElement("h1",null,"- ".concat(this.props.title," -")),u.a.createElement("div",{className:"levelDescription"},t))}}]),e}(u.a.Component),me=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this.props.values.map(function(t,e){return u.a.createElement("p",{key:"value".concat(e)},t)});return u.a.createElement("div",{className:"sourceValues"},u.a.createElement("h2",null,this.props.name),u.a.createElement("div",{className:"values"},t))}}]),e}(u.a.Component),Ae=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this.props.objectiveValues.map(function(t,e){return u.a.createElement("p",{key:"value".concat(e)},t)}),e=this.props.values.map(function(t,e){return u.a.createElement("p",{key:"value".concat(e)},t)});return u.a.createElement("div",{className:"sinkValues"},u.a.createElement("h2",null,this.props.name),u.a.createElement("div",null,u.a.createElement("div",{className:"objectiveValues"},t),u.a.createElement("div",{className:"values"},e)))}}]),e}(u.a.Component),ke=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this.props.sources.filter(function(t){return!(t instanceof _t)}).map(function(t,e){return u.a.createElement(me,{key:"source".concat(e),name:"IN.".concat(t.getID()),values:t.getOriginalInputs()})}),e=this.props.transform(this.props.sources.filter(function(t){return!(t instanceof _t)}).map(function(t){return t.getOriginalInputs()})),n=this.props.sinks.filter(function(t){return!(t instanceof Ft)}).map(function(t,n){return u.a.createElement(Ae,{key:"sink".concat(n),name:"OUT.".concat(t.getID()),values:t.getOutputs(),objectiveValues:e[n]})});return u.a.createElement("div",{className:"levelValues"},[].concat(Object(f.a)(t),Object(f.a)(n)))}}]),e}(u.a.Component),je=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return u.a.createElement("div",{className:"controlPanel"},u.a.createElement(fe,{title:this.props.tis_100.getLevel().title,description:this.props.tis_100.getLevel().description}),u.a.createElement(ke,{sources:this.props.tis_100.getSources(),sinks:this.props.tis_100.getSinks(),transform:this.props.tis_100.getLevel().transform}),u.a.createElement("div",{className:"buttons"},u.a.createElement(Oe,{name:"stop",image:oe.a,onClick:this.props.onStopClicked}),u.a.createElement(Oe,{name:"step",image:he.a,onClick:this.props.onStepClicked}),u.a.createElement(Oe,{name:"run",image:de.a,onClick:this.props.onRunClicked}),u.a.createElement(Oe,{name:"fast",image:ve.a,onClick:this.props.onFastClicked})))}}]),e}(u.a.Component);!function(t){t[t.IDLE=0]="IDLE",t[t.RUN=1]="RUN",t[t.FAST=2]="FAST",t[t.ERROR=3]="ERROR"}(Kt||(Kt={}));var Ne=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(b.a)(this,Object(v.a)(e).call(this,t))).interval=void 0,n.state={tis_100:new $t(te[0]),state:Kt.IDLE,currentLevel:0},n}return Object(O.a)(e,t),Object(d.a)(e,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return u.a.createElement("div",{className:"app"},u.a.createElement(je,{tis_100:this.state.tis_100,onStopClicked:this.stop.bind(this),onStepClicked:this.step.bind(this),onRunClicked:this.run.bind(this),onFastClicked:this.fast.bind(this)}),u.a.createElement(ce,{grid:this.state.tis_100.getGrid(),sinks:this.state.tis_100.getSinks(),sources:this.state.tis_100.getSources(),state:this.state.tis_100.getState(),setErrorState:this.setErrorState.bind(this)}))}},{key:"refreshRender",value:function(){this.setState(function(t){return t}),this.state.tis_100.getGrid().forEach(function(t){t.forEach(function(t){console.log(t)})})}},{key:"stop",value:function(){this.state.state!==Kt.ERROR&&(this.state.state!==Kt.IDLE&&(this.setState(function(t){return Object(h.a)({},t,{state:Kt.IDLE})}),clearInterval(this.interval)),this.state.tis_100.stop(),this.refreshRender())}},{key:"step",value:function(){this.state.state!==Kt.ERROR&&(this.state.state!==Kt.IDLE&&(this.setState(function(t){return Object(h.a)({},t,{state:Kt.IDLE})}),clearInterval(this.interval)),this.state.tis_100.step(),this.checkEndLevel(),this.refreshRender(),this.state.tis_100.getGrid().forEach(function(t){return t.forEach(function(t){return console.log(t)})}))}},{key:"run",value:function(){var t=this;this.state.state!==Kt.ERROR&&this.state.state!==Kt.RUN&&(clearInterval(this.interval),this.interval=setInterval(function(){t.state.tis_100.step(),t.checkEndLevel(),t.refreshRender()},500),this.setState(function(t){return Object(h.a)({},t,{state:Kt.RUN})}))}},{key:"fast",value:function(){var t=this;this.state.state!==Kt.ERROR&&this.state.state!==Kt.FAST&&(clearInterval(this.interval),this.interval=setInterval(function(){t.state.tis_100.step(),t.checkEndLevel(),t.refreshRender()},10),this.setState(function(t){return Object(h.a)({},t,{state:Kt.FAST})}))}},{key:"setErrorState",value:function(t){this.setState(function(e){return Object(h.a)({},e,{state:t?Kt.ERROR:Kt.IDLE})})}},{key:"checkEndLevel",value:function(){this.state.tis_100.getSinks().every(function(t){return t instanceof Ft||t.getOutputs().length>=50})&&(this.compareResults(),clearInterval(this.interval))}},{key:"compareResults",value:function(){var t=!0,e=this.state.tis_100.getSinks().filter(function(t){return!(t instanceof Ft)}).map(function(t){return t.getOutputs()}),n=this.state.tis_100.getSources().filter(function(t){return!(t instanceof _t)}).map(function(t){return t.getOriginalInputs()}),i=this.state.tis_100.getLevel().transform(n);return e.forEach(function(e,n){null!==e&&e.forEach(function(e,a){i[n][a]!==e&&(t=!1)})}),t&&this.changeLevel(),t}},{key:"changeLevel",value:function(){this.state.currentLevel+1>=te.length?this.setState(function(t){return{tis_100:new $t(te[0]),state:Kt.IDLE,currentLevel:t.currentLevel+1}}):this.setState(function(t){return{tis_100:new $t(te[t.currentLevel+1]),state:Kt.IDLE,currentLevel:t.currentLevel+1}})}}]),e}(u.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(u.a.createElement(Ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,n){}},[[42,1,2]]]);
//# sourceMappingURL=main.ffe40068.chunk.js.map